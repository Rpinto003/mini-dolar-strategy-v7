2024-12-09 10:08:08.335 | INFO     | __main__:main:59 - Configuration loaded
2024-12-09 10:08:08.336 | INFO     | src.data.loaders.market_data:__init__:10 - Initialized MarketDataLoader with db=src/data/candles.db, table=candles
2024-12-09 10:08:08.337 | INFO     | src.analysis.market_structure:__init__:8 - Initialized MarketStructure with lookback_period=20
2024-12-09 10:08:08.337 | INFO     | src.analysis.volatility:__init__:8 - Initialized VolatilityAnalyzer with atr_period=14
2024-12-09 10:08:08.338 | INFO     | src.analysis.signals:__init__:8 - Initialized SignalGenerator with risk_free_rate=0.05
2024-12-09 10:08:08.338 | INFO     | src.analysis.risk_management:__init__:10 - Initialized RiskManager with capital=100000, max_risk=0.005
2024-12-09 10:08:08.344 | INFO     | src.models.metrics:__init__:8 - Initialized MetricsCalculator
2024-12-09 10:08:08.344 | INFO     | src.analysis.feature_engineering:__init__:9 - Initialized FeatureEngineer
2024-12-09 10:08:08.345 | INFO     | src.models.ml_model:__init__:30 - Initialized MLModel
2024-12-09 10:08:08.345 | INFO     | src.strategy.enhanced_strategy:__init__:19 - Strategy initialized with ML capabilities
2024-12-09 10:08:08.459 | INFO     | src.data.loaders.market_data:get_minute_data:24 - Carregados 35136 registros de 2024-06-01 00:00:00 at√© 2024-09-30 23:59:59
2024-12-09 10:08:08.464 | INFO     | __main__:main:75 - Loaded 35136 data points
2024-12-09 10:08:08.465 | INFO     | __main__:main:87 - Training ML model...
2024-12-09 10:08:12.036 | INFO     | src.strategy.enhanced_strategy:prepare_data:48 - Market structure analysis completed
2024-12-09 10:08:12.046 | INFO     | src.strategy.enhanced_strategy:prepare_data:52 - Volatility analysis completed
2024-12-09 10:08:12.155 | INFO     | src.strategy.enhanced_strategy:prepare_data:56 - Signal generation completed
2024-12-09 10:08:12.169 | INFO     | src.analysis.feature_engineering:create_features:38 - Created features: ['open', 'high', 'low', 'close', 'volume', 'sma_20', 'sma_50', 'trend_direction', 'swing_high', 'swing_low', 'price_position', 'atr', 'returns', 'historical_volatility', 'basis', 'upper_band', 'lower_band', 'rsi', 'macd', 'signal_line', 'macd_hist', 'volume_ratio', 'volume_trend', 'atr_ratio', 'price_sma20_ratio', 'price_sma50_ratio', 'signal', 'entry_price', 'entry_time', 'roc_5', 'roc_10', 'roc_20', 'volatility_5', 'volatility_10', 'volatility_20', 'volume_momentum', 'volume_roc', 'volume_ma_ratio', 'sma_10', 'price_sma10_ratio', 'trend_short', 'trend_long', 'price_momentum', 'trend_strength']
2024-12-09 10:08:12.171 | INFO     | src.strategy.enhanced_strategy:prepare_data:60 - Feature engineering completed
2024-12-09 10:08:12.171 | INFO     | src.strategy.enhanced_strategy:train_ml_model:106 - Prepared 28108 samples for training
2024-12-09 10:08:12.173 | INFO     | src.strategy.enhanced_strategy:train_ml_model:107 - Available features: ['open', 'high', 'low', 'close', 'volume', 'sma_20', 'sma_50', 'trend_direction', 'swing_high', 'swing_low', 'price_position', 'atr', 'returns', 'historical_volatility', 'basis', 'upper_band', 'lower_band', 'rsi', 'macd', 'signal_line', 'macd_hist', 'volume_ratio', 'volume_trend', 'atr_ratio', 'price_sma20_ratio', 'price_sma50_ratio', 'signal', 'entry_price', 'entry_time', 'roc_5', 'roc_10', 'roc_20', 'volatility_5', 'volatility_10', 'volatility_20', 'volume_momentum', 'volume_roc', 'volume_ma_ratio', 'sma_10', 'price_sma10_ratio', 'trend_short', 'trend_long', 'price_momentum', 'trend_strength']
2024-12-09 10:08:12.225 | INFO     | src.models.ml_model:prepare_features:79 - Prepared 28107 samples with 11 features
2024-12-09 10:08:14.472 | INFO     | src.models.ml_model:train:128 - 
Feature Importances:
2024-12-09 10:08:14.473 | INFO     | src.models.ml_model:train:130 - price_sma20_ratio: 0.4568
2024-12-09 10:08:14.473 | INFO     | src.models.ml_model:train:130 - macd_hist: 0.1930
2024-12-09 10:08:14.473 | INFO     | src.models.ml_model:train:130 - price_momentum: 0.1231
2024-12-09 10:08:14.474 | INFO     | src.models.ml_model:train:130 - rsi: 0.1158
2024-12-09 10:08:14.474 | INFO     | src.models.ml_model:train:130 - macd: 0.0663
2024-12-09 10:08:14.474 | INFO     | src.models.ml_model:train:130 - volatility_10: 0.0263
2024-12-09 10:08:14.475 | INFO     | src.models.ml_model:train:130 - atr_ratio: 0.0144
2024-12-09 10:08:14.475 | INFO     | src.models.ml_model:train:130 - volume_trend: 0.0021
2024-12-09 10:08:14.476 | INFO     | src.models.ml_model:train:130 - volume_ratio: 0.0021
2024-12-09 10:08:14.476 | INFO     | src.models.ml_model:train:130 - trend_short: 0.0001
2024-12-09 10:08:14.476 | INFO     | src.models.ml_model:train:130 - trend_long: 0.0000
2024-12-09 10:08:16.802 | INFO     | src.models.ml_model:train:128 - 
Feature Importances:
2024-12-09 10:08:16.803 | INFO     | src.models.ml_model:train:130 - price_sma20_ratio: 0.4565
2024-12-09 10:08:16.804 | INFO     | src.models.ml_model:train:130 - macd_hist: 0.1933
2024-12-09 10:08:16.804 | INFO     | src.models.ml_model:train:130 - price_momentum: 0.1270
2024-12-09 10:08:16.804 | INFO     | src.models.ml_model:train:130 - rsi: 0.1125
2024-12-09 10:08:16.805 | INFO     | src.models.ml_model:train:130 - macd: 0.0670
2024-12-09 10:08:16.805 | INFO     | src.models.ml_model:train:130 - volatility_10: 0.0256
2024-12-09 10:08:16.806 | INFO     | src.models.ml_model:train:130 - atr_ratio: 0.0142
2024-12-09 10:08:16.806 | INFO     | src.models.ml_model:train:130 - volume_ratio: 0.0021
2024-12-09 10:08:16.807 | INFO     | src.models.ml_model:train:130 - volume_trend: 0.0018
2024-12-09 10:08:16.807 | INFO     | src.models.ml_model:train:130 - trend_short: 0.0001
2024-12-09 10:08:16.807 | INFO     | src.models.ml_model:train:130 - trend_long: 0.0000
2024-12-09 10:08:19.245 | INFO     | src.models.ml_model:train:128 - 
Feature Importances:
2024-12-09 10:08:19.246 | INFO     | src.models.ml_model:train:130 - price_sma20_ratio: 0.4526
2024-12-09 10:08:19.247 | INFO     | src.models.ml_model:train:130 - macd_hist: 0.1947
2024-12-09 10:08:19.247 | INFO     | src.models.ml_model:train:130 - price_momentum: 0.1286
2024-12-09 10:08:19.247 | INFO     | src.models.ml_model:train:130 - rsi: 0.1143
2024-12-09 10:08:19.248 | INFO     | src.models.ml_model:train:130 - macd: 0.0665
2024-12-09 10:08:19.248 | INFO     | src.models.ml_model:train:130 - volatility_10: 0.0252
2024-12-09 10:08:19.248 | INFO     | src.models.ml_model:train:130 - atr_ratio: 0.0143
2024-12-09 10:08:19.249 | INFO     | src.models.ml_model:train:130 - volume_ratio: 0.0019
2024-12-09 10:08:19.249 | INFO     | src.models.ml_model:train:130 - volume_trend: 0.0018
2024-12-09 10:08:19.250 | INFO     | src.models.ml_model:train:130 - trend_short: 0.0001
2024-12-09 10:08:19.250 | INFO     | src.models.ml_model:train:130 - trend_long: 0.0000
2024-12-09 10:08:21.793 | INFO     | src.models.ml_model:train:128 - 
Feature Importances:
2024-12-09 10:08:21.794 | INFO     | src.models.ml_model:train:130 - price_sma20_ratio: 0.4545
2024-12-09 10:08:21.795 | INFO     | src.models.ml_model:train:130 - macd_hist: 0.1970
2024-12-09 10:08:21.795 | INFO     | src.models.ml_model:train:130 - price_momentum: 0.1248
2024-12-09 10:08:21.795 | INFO     | src.models.ml_model:train:130 - rsi: 0.1126
2024-12-09 10:08:21.796 | INFO     | src.models.ml_model:train:130 - macd: 0.0689
2024-12-09 10:08:21.796 | INFO     | src.models.ml_model:train:130 - volatility_10: 0.0253
2024-12-09 10:08:21.796 | INFO     | src.models.ml_model:train:130 - atr_ratio: 0.0131
2024-12-09 10:08:21.797 | INFO     | src.models.ml_model:train:130 - volume_ratio: 0.0019
2024-12-09 10:08:21.797 | INFO     | src.models.ml_model:train:130 - volume_trend: 0.0018
2024-12-09 10:08:21.798 | INFO     | src.models.ml_model:train:130 - trend_short: 0.0001
2024-12-09 10:08:21.798 | INFO     | src.models.ml_model:train:130 - trend_long: 0.0000
2024-12-09 10:08:24.472 | INFO     | src.models.ml_model:train:128 - 
Feature Importances:
2024-12-09 10:08:24.472 | INFO     | src.models.ml_model:train:130 - price_sma20_ratio: 0.4589
2024-12-09 10:08:24.473 | INFO     | src.models.ml_model:train:130 - macd_hist: 0.1996
2024-12-09 10:08:24.473 | INFO     | src.models.ml_model:train:130 - price_momentum: 0.1242
2024-12-09 10:08:24.474 | INFO     | src.models.ml_model:train:130 - rsi: 0.1094
2024-12-09 10:08:24.474 | INFO     | src.models.ml_model:train:130 - macd: 0.0665
2024-12-09 10:08:24.474 | INFO     | src.models.ml_model:train:130 - volatility_10: 0.0247
2024-12-09 10:08:24.475 | INFO     | src.models.ml_model:train:130 - atr_ratio: 0.0132
2024-12-09 10:08:24.475 | INFO     | src.models.ml_model:train:130 - volume_ratio: 0.0018
2024-12-09 10:08:24.476 | INFO     | src.models.ml_model:train:130 - volume_trend: 0.0017
2024-12-09 10:08:24.476 | INFO     | src.models.ml_model:train:130 - trend_short: 0.0001
2024-12-09 10:08:24.476 | INFO     | src.models.ml_model:train:130 - trend_long: 0.0000
2024-12-09 10:08:24.477 | INFO     | src.models.ml_model:train:134 - Model training completed. Accuracy: 0.48
2024-12-09 10:08:27.176 | INFO     | src.strategy.enhanced_strategy:train_ml_model:111 - ML model training completed
2024-12-09 10:08:27.178 | INFO     | __main__:main:90 - Training metrics: {'accuracy': 0.4848, 'precision': 0.8561909782397725, 'recall': 0.4848, 'f1-score': 0.5536245090200752}
2024-12-09 10:08:27.372 | INFO     | __main__:save_results:38 - Results saved to output
2024-12-09 10:08:27.372 | INFO     | __main__:save_results:39 - Results file: train_backtest_results_20240601.csv
2024-12-09 10:08:27.373 | INFO     | __main__:save_results:40 - Metrics file: train_backtest_metrics_20240601.csv
2024-12-09 10:08:27.373 | INFO     | __main__:main:94 - Running strategy on test data...
2024-12-09 10:08:27.373 | INFO     | src.strategy.enhanced_strategy:run:69 - Starting strategy execution with ML
2024-12-09 10:08:28.257 | INFO     | src.strategy.enhanced_strategy:prepare_data:48 - Market structure analysis completed
2024-12-09 10:08:28.266 | INFO     | src.strategy.enhanced_strategy:prepare_data:52 - Volatility analysis completed
2024-12-09 10:08:28.301 | INFO     | src.strategy.enhanced_strategy:prepare_data:56 - Signal generation completed
2024-12-09 10:08:28.312 | INFO     | src.analysis.feature_engineering:create_features:38 - Created features: ['open', 'high', 'low', 'close', 'volume', 'sma_20', 'sma_50', 'trend_direction', 'swing_high', 'swing_low', 'price_position', 'atr', 'returns', 'historical_volatility', 'basis', 'upper_band', 'lower_band', 'rsi', 'macd', 'signal_line', 'macd_hist', 'volume_ratio', 'volume_trend', 'atr_ratio', 'price_sma20_ratio', 'price_sma50_ratio', 'signal', 'entry_price', 'entry_time', 'roc_5', 'roc_10', 'roc_20', 'volatility_5', 'volatility_10', 'volatility_20', 'volume_momentum', 'volume_roc', 'volume_ma_ratio', 'sma_10', 'price_sma10_ratio', 'trend_short', 'trend_long', 'price_momentum', 'trend_strength']
2024-12-09 10:08:28.314 | INFO     | src.strategy.enhanced_strategy:prepare_data:60 - Feature engineering completed
2024-12-09 10:08:28.469 | INFO     | src.strategy.enhanced_strategy:_log_performance_metrics:186 - Strategy Performance:
2024-12-09 10:08:28.470 | INFO     | src.strategy.enhanced_strategy:_log_performance_metrics:195 - ml_traditional_agreement: 0
2024-12-09 10:08:28.470 | INFO     | src.strategy.enhanced_strategy:_log_performance_metrics:193 - ml_accuracy: 17.66%
2024-12-09 10:08:28.471 | INFO     | src.strategy.enhanced_strategy:_log_performance_metrics:195 - ml_contribution: 0
2024-12-09 10:08:28.472 | INFO     | __main__:main:99 - 
Strategy Performance:
2024-12-09 10:08:28.472 | INFO     | __main__:main:104 - ml_traditional_agreement: 0
2024-12-09 10:08:28.473 | INFO     | __main__:main:102 - ml_accuracy: 17.66%
2024-12-09 10:08:28.473 | INFO     | __main__:main:104 - ml_contribution: 0
2024-12-09 10:08:28.803 | INFO     | __main__:save_results:38 - Results saved to output
2024-12-09 10:08:28.804 | INFO     | __main__:save_results:39 - Results file: test_backtest_results_20240906.csv
2024-12-09 10:08:28.804 | INFO     | __main__:save_results:40 - Metrics file: test_backtest_metrics_20240906.csv
